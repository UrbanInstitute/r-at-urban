<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>R@URBAN – index</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-114294141-1"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-114294141-1');
</script>
			

<script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../site_libs/datatables-binding-0.20/datatables.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/dt-core-bootstrap-1.11.3/css/dataTables.bootstrap.min.css" rel="stylesheet">
<link href="../site_libs/dt-core-bootstrap-1.11.3/css/dataTables.bootstrap.extra.css" rel="stylesheet">
<script src="../site_libs/dt-core-bootstrap-1.11.3/js/jquery.dataTables.min.js"></script>
<script src="../site_libs/dt-core-bootstrap-1.11.3/js/dataTables.bootstrap.min.js"></script>
<link href="../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">R@URBAN</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html">HOME</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../intro-to-r.html">INTRO TO R</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../graphics-guide.html">DATA VIZ</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../mapping.html">MAPPING</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../getting-data.html">GETTING DATA</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../optimization.html">OPTIMIZATION</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../resources.html">RESOURCES</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#urban-institute-r-table-guide" id="toc-urban-institute-r-table-guide" class="nav-link active" data-scroll-target="#urban-institute-r-table-guide">Urban Institute R Table Guide</a></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">Getting started</a>
  <ul class="collapse">
  <li><a href="#r-markdown" id="toc-r-markdown" class="nav-link" data-scroll-target="#r-markdown">R Markdown</a></li>
  <li><a href="#html" id="toc-html" class="nav-link" data-scroll-target="#html">html</a></li>
  <li><a href="#pdf" id="toc-pdf" class="nav-link" data-scroll-target="#pdf">PDF</a></li>
  <li><a href="#latex" id="toc-latex" class="nav-link" data-scroll-target="#latex">LaTeX</a></li>
  <li><a href="#text" id="toc-text" class="nav-link" data-scroll-target="#text">Text</a></li>
  <li><a href="#microsoft-word" id="toc-microsoft-word" class="nav-link" data-scroll-target="#microsoft-word">Microsoft Word</a></li>
  <li><a href="#microsoft-excel" id="toc-microsoft-excel" class="nav-link" data-scroll-target="#microsoft-excel">Microsoft Excel</a></li>
  </ul></li>
  <li><a href="#kable" id="toc-kable" class="nav-link" data-scroll-target="#kable">kable()</a>
  <ul class="collapse">
  <li><a href="#caption" id="toc-caption" class="nav-link" data-scroll-target="#caption">caption</a></li>
  <li><a href="#digits" id="toc-digits" class="nav-link" data-scroll-target="#digits">digits</a></li>
  <li><a href="#col.names" id="toc-col.names" class="nav-link" data-scroll-target="#col.names">col.names</a></li>
  <li><a href="#align" id="toc-align" class="nav-link" data-scroll-target="#align">align</a></li>
  <li><a href="#additional-arguments" id="toc-additional-arguments" class="nav-link" data-scroll-target="#additional-arguments">additional arguments</a></li>
  </ul></li>
  <li><a href="#librarykableextra" id="toc-librarykableextra" class="nav-link" data-scroll-target="#librarykableextra">library(kableExtra)</a>
  <ul class="collapse">
  <li><a href="#full_width" id="toc-full_width" class="nav-link" data-scroll-target="#full_width">full_width</a></li>
  <li><a href="#position" id="toc-position" class="nav-link" data-scroll-target="#position">position</a></li>
  <li><a href="#column_spec" id="toc-column_spec" class="nav-link" data-scroll-target="#column_spec">column_spec</a></li>
  <li><a href="#row_spec" id="toc-row_spec" class="nav-link" data-scroll-target="#row_spec">row_spec</a></li>
  <li><a href="#add_header_above" id="toc-add_header_above" class="nav-link" data-scroll-target="#add_header_above">add_header_above</a></li>
  <li><a href="#group_rows" id="toc-group_rows" class="nav-link" data-scroll-target="#group_rows">group_rows</a></li>
  <li><a href="#add_footnote" id="toc-add_footnote" class="nav-link" data-scroll-target="#add_footnote">add_footnote()</a></li>
  </ul></li>
  <li><a href="#libraryformattable" id="toc-libraryformattable" class="nav-link" data-scroll-target="#libraryformattable">library(formattable)</a>
  <ul class="collapse">
  <li><a href="#pre-defined-formats" id="toc-pre-defined-formats" class="nav-link" data-scroll-target="#pre-defined-formats">Pre-defined Formats</a></li>
  <li><a href="#formattable-tables" id="toc-formattable-tables" class="nav-link" data-scroll-target="#formattable-tables">formattable tables</a></li>
  </ul></li>
  <li><a href="#librarystargazer" id="toc-librarystargazer" class="nav-link" data-scroll-target="#librarystargazer">library(stargazer)</a></li>
  <li><a href="#librarydt" id="toc-librarydt" class="nav-link" data-scroll-target="#librarydt">library(DT)</a></li>
  <li><a href="#export-to-excel" id="toc-export-to-excel" class="nav-link" data-scroll-target="#export-to-excel">Export to Excel</a>
  <ul class="collapse">
  <li><a href="#write_csv" id="toc-write_csv" class="nav-link" data-scroll-target="#write_csv">write_csv()</a></li>
  <li><a href="#librarywritexl" id="toc-librarywritexl" class="nav-link" data-scroll-target="#librarywritexl">library(writexl)</a></li>
  <li><a href="#libraryopenxlsx" id="toc-libraryopenxlsx" class="nav-link" data-scroll-target="#libraryopenxlsx">library(openxlsx)</a></li>
  </ul></li>
  <li><a href="#tidy-data" id="toc-tidy-data" class="nav-link" data-scroll-target="#tidy-data">Tidy Data</a>
  <ul class="collapse">
  <li><a href="#librarybroom" id="toc-librarybroom" class="nav-link" data-scroll-target="#librarybroom">library(broom)</a></li>
  <li><a href="#librarydplyr" id="toc-librarydplyr" class="nav-link" data-scroll-target="#librarydplyr">library(dplyr)</a></li>
  </ul></li>
  <li><a href="#putting-it-all-together" id="toc-putting-it-all-together" class="nav-link" data-scroll-target="#putting-it-all-together">Putting it all together</a></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix">Appendix</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<p><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato"></p>
<div id="header">
<p><img src="images/urban-institute-logo.png" class="img-fluid"></p>
</div>
<section id="urban-institute-r-table-guide" class="level2">
<h2 class="anchored" data-anchor-id="urban-institute-r-table-guide">Urban Institute R Table Guide</h2>
<p>R is a powerful programming language for statistics, plotting, and analysis. An abundance of books and online training materials are available for R, but most overlook building programmatic and reproducible tables. This guide aims to outline the strengths and weaknesses of tools for creating tables in R.</p>
<p>If you have any questions about building tables in R, or more generally using R, please don’t hesitate to reach out to Aaron Williams (awilliams@urban.org).</p>
<p><strong>Note:</strong> It is important to communicate with the Urban Institute COMMS department about publications. Presence in this document is not a guarantee that the tools or styles are ready for an Urban Institute publication.</p>
</section>
<section id="getting-started" class="level2">
<h2 class="anchored" data-anchor-id="getting-started">Getting started</h2>
<p>There are two important steps to building a useful table in R:</p>
<ol type="1">
<li>Get the data frame into the correct shape.</li>
<li>Decide on the output format.</li>
</ol>
<p>The section “Tidy Data” addresses the first step by outlining <code>library(broom)</code> and <code>library(dplyr)</code>. Both are powerful tools whose use extends beyond making tables.</p>
<p>The rest of this document is dedicated to outlining the strengths, weaknesses, uses, and methods of different tools for building tables in R. The following subsections link output formats to tools:</p>
<section id="r-markdown" class="level3">
<h3 class="anchored" data-anchor-id="r-markdown">R Markdown</h3>
<p>todo(aaron): add image</p>
<p>R Markdown is one of the most powerful parts of R. It combines “text chunks”, “code chunks”, and “output chunks” to create <a href="http://rmarkdown.rstudio.com/gallery.html">a range of documents</a> including .PDF, .html, Microsoft Word, websites, books, and more (this guide was built using R Markdown!). It is best for creating <em>entire</em> documents instead of pieces of larger documents.</p>
<p>Most of the tools in this document are optimized for creating tables using R Markdown. This is fortunate if R Markdown is the tool of choice for a publication and unfortunate if R is just one piece of a heterogeneous workflow.</p>
</section>
<section id="html" class="level3">
<h3 class="anchored" data-anchor-id="html">html</h3>
<p>This guide is an html document. Any table in this document can be easily replicated as-is in .html. <code>kable()</code>, <code>library(kableExtra)</code>, <code>library(formattable)</code>, and <code>library(stargazer)</code> are the best tools for .html documents.</p>
<p>Here’s an example .html table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(formattable)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">5</span>, price) <span class="sc">%&gt;%</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(price)) <span class="sc">%&gt;%</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Carat =</span> carat, <span class="at">Cut =</span> cut, <span class="at">Price =</span> price) <span class="sc">%&gt;%</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Price =</span> <span class="fu">currency</span>(Price, <span class="at">digits =</span> <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Top Diamond Prices"</span>, <span class="at">align =</span> <span class="st">"r"</span>, <span class="at">format =</span> <span class="st">"html"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">position =</span> <span class="st">"left"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_footnote</span>(<span class="st">"Urban Institute analysis of diamond data"</span>, <span class="at">notation =</span> <span class="st">"alphabet"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table" style="width: auto !important; ">
<caption>Top Diamond Prices</caption>
 <thead>
  <tr>
   <th style="text-align:right;"> Carat </th>
   <th style="text-align:right;"> Cut </th>
   <th style="text-align:right;"> Price </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 2.29 </td>
   <td style="text-align:right;"> Premium </td>
   <td style="text-align:right;"> $18,823 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2.00 </td>
   <td style="text-align:right;"> Very Good </td>
   <td style="text-align:right;"> $18,818 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 1.51 </td>
   <td style="text-align:right;"> Ideal </td>
   <td style="text-align:right;"> $18,806 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2.07 </td>
   <td style="text-align:right;"> Ideal </td>
   <td style="text-align:right;"> $18,804 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2.00 </td>
   <td style="text-align:right;"> Very Good </td>
   <td style="text-align:right;"> $18,803 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup>a</sup> Urban Institute analysis of diamond data</td>
</tr>
</tfoot>
</table>

</div>
</div>
</section>
<section id="pdf" class="level3">
<h3 class="anchored" data-anchor-id="pdf">PDF</h3>
<p>R Markdown is great for “knitting” straight to PDF. Many of the tables in this document can be “knitted” to PDF with little to no change to the code but the output will look a little different than .html. <code>kable()</code>, <code>library(kableExtra)</code>, <code>library(formattable)</code>, and <code>library(stargazer)</code> are the best tools for PDFs.</p>
<p>Here’s a great example of a PDF table by Bhargavi Ganesh (HFPC):</p>
<p><img src="images/ganesh.png" class="img-fluid"></p>
<p>todo(aaron): update Bhargavi example</p>
</section>
<section id="latex" class="level3">
<h3 class="anchored" data-anchor-id="latex">LaTeX</h3>
<p>LaTeX (pronounced “lay-tech”) is a syntax/micro-language for typesetting technical and scientific documents. <code>kable()</code>, <code>library(kableExtra)</code>, and <code>library(stargazer)</code> can all write to LaTeX which can then be implemented elsewhere.</p>
<p>Here’s an example of raw LaTeX output by <code>kable()</code>:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/latex.png" class="img-fluid" width="500"></p>
</div>
</div>
</section>
<section id="text" class="level3">
<h3 class="anchored" data-anchor-id="text">Text</h3>
<p><code>library(stargazer)</code> is the only real option for printing ASCII tables.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/ascii.png" class="img-fluid" width="500"></p>
</div>
</div>
</section>
<section id="microsoft-word" class="level3">
<h3 class="anchored" data-anchor-id="microsoft-word">Microsoft Word</h3>
<p>The appealing but dense formatting of the Urban Institute’s Microsoft Word template makes it effectively impossible right now to “knit” or write straight to Microsoft Word for publications. R Markdown and <code>library(WordR)</code> can both “knit” or write straight to Microsoft Word documents.</p>
</section>
<section id="microsoft-excel" class="level3">
<h3 class="anchored" data-anchor-id="microsoft-excel">Microsoft Excel</h3>
<p>R tools for interacting with Microsoft Excel have never been more powerful. <code>library(readr)</code>, <code>library(writexl)</code>, and <code>library(openxlsx)</code> can write to .csv, .xls, .xlsx without formats, and .xlsx with formats. All three tools are outlined under “Export to Excel”.</p>
<p>If Excel is necessary, programmatically write the data to one sheet in a workbook and then use cell references to build Urban Institute-compliant tables in another sheet. This way, the data can be updated without deleting the tables or formatting.</p>
<p><img src="images/borough.png" class="img-fluid"></p>
<p><em>An early table in “A Discours of the Variation of the Cumpas, or Magneticall Needle” by William Borough (1581)</em></p>
</section>
</section>
<section id="kable" class="level2">
<h2 class="anchored" data-anchor-id="kable">kable()</h2>
<p>The <code>kable()</code> function from <code>library(knitr)</code> is the simplest way to build tables in R Markdown.</p>
<p><code>kable()</code>’s tables are ugly in the R console, but their default is appealing in R Markdown. Add <code>css: styles.css</code> to the R Markdown YAML header before using <code>kable()</code> so styles and fonts are Urban Institute compliant.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>output<span class="sc">:</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  html_document<span class="sc">:</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    css<span class="sc">:</span> styles.css</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>mtcars_subset <span class="ot">&lt;-</span> mtcars <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"Model"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Model, <span class="at">MPG =</span> mpg, <span class="at">Cylinders =</span> cyl, <span class="at">Weight =</span> wt) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="sc">-</span>MPG) <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">top_n</span>(<span class="dv">5</span>, MPG)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>mtcars_subset <span class="sc">%&gt;%</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Cars with the best fuel economy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table>
<caption>Cars with the best fuel economy</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> Model </th>
   <th style="text-align:right;"> MPG </th>
   <th style="text-align:right;"> Cylinders </th>
   <th style="text-align:right;"> Weight </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Toyota Corolla </td>
   <td style="text-align:right;"> 33.9 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1.835 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Fiat 128 </td>
   <td style="text-align:right;"> 32.4 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 2.200 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Honda Civic </td>
   <td style="text-align:right;"> 30.4 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1.615 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Lotus Europa </td>
   <td style="text-align:right;"> 30.4 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1.513 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Fiat X1-9 </td>
   <td style="text-align:right;"> 27.3 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1.935 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<section id="caption" class="level3">
<h3 class="anchored" data-anchor-id="caption">caption</h3>
<p><code>caption =</code> adds a title to the R Markdown table.</p>
<p>Titles can also be added with <code>##</code>, <code>###</code>, <code>####</code>, etc. in R Markdown documents. This is advantageous because the table title will be added to the table of contents based on where it falls in the hierarchy of html/R Markdown headers. R Markdown table titles default to the same size as headers with ####.</p>
<p><code>#### Cars with the best fuel economy</code></p>
<section id="cars-with-the-best-fuel-economy" class="level4">
<h4 class="anchored" data-anchor-id="cars-with-the-best-fuel-economy">Cars with the best fuel economy</h4>
</section>
</section>
<section id="digits" class="level3">
<h3 class="anchored" data-anchor-id="digits">digits</h3>
<p><code>digits =</code> controls the maximum number of digits for each number in a table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>mtcars_subset <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> Model </th>
   <th style="text-align:right;"> MPG </th>
   <th style="text-align:right;"> Cylinders </th>
   <th style="text-align:right;"> Weight </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Toyota Corolla </td>
   <td style="text-align:right;"> 34 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Fiat 128 </td>
   <td style="text-align:right;"> 32 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Honda Civic </td>
   <td style="text-align:right;"> 30 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Lotus Europa </td>
   <td style="text-align:right;"> 30 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Fiat X1-9 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="col.names" class="level3">
<h3 class="anchored" data-anchor-id="col.names">col.names</h3>
<p>The first <code>kable()</code> example in the <code>library(kable)</code> subsection renamed variables with <code>select()</code> before making the table. This is often necessary because lower case names with underscores are more common in analyses than Urban Institute-compliant column names (sentence case).</p>
<p>Another option is to specify a vector of column names when using <code>kable()</code>. <code>col.names =</code> specifies a vector with which to replace column names.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>mtcars_subset <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Car model"</span>, <span class="st">"Fuel Economy"</span>, <span class="st">"Cylinders"</span>, <span class="st">"Weight (Tons)"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> Car model </th>
   <th style="text-align:right;"> Fuel Economy </th>
   <th style="text-align:right;"> Cylinders </th>
   <th style="text-align:right;"> Weight (Tons) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Toyota Corolla </td>
   <td style="text-align:right;"> 33.9 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1.835 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Fiat 128 </td>
   <td style="text-align:right;"> 32.4 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 2.200 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Honda Civic </td>
   <td style="text-align:right;"> 30.4 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1.615 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Lotus Europa </td>
   <td style="text-align:right;"> 30.4 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1.513 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Fiat X1-9 </td>
   <td style="text-align:right;"> 27.3 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1.935 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="align" class="level3">
<h3 class="anchored" data-anchor-id="align">align</h3>
<p><code>align =</code> changes the column alignment. Numeric columns are right-aligned by default and all other columns are left-aligned by default.</p>
<p>Options are <code>"l"</code>, <code>"c"</code>, and <code>"r"</code>. Individual columns can be formatted by combining options into one character string (ex. <code>"rlrlc"</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>mtcars_subset <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(MPG, Cylinders, Weight, Model) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(<span class="at">align =</span> <span class="st">"rlrr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:right;"> MPG </th>
   <th style="text-align:left;"> Cylinders </th>
   <th style="text-align:right;"> Weight </th>
   <th style="text-align:right;"> Model </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 33.9 </td>
   <td style="text-align:left;"> 4 </td>
   <td style="text-align:right;"> 1.835 </td>
   <td style="text-align:right;"> Toyota Corolla </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 32.4 </td>
   <td style="text-align:left;"> 4 </td>
   <td style="text-align:right;"> 2.200 </td>
   <td style="text-align:right;"> Fiat 128 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 30.4 </td>
   <td style="text-align:left;"> 4 </td>
   <td style="text-align:right;"> 1.615 </td>
   <td style="text-align:right;"> Honda Civic </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 30.4 </td>
   <td style="text-align:left;"> 4 </td>
   <td style="text-align:right;"> 1.513 </td>
   <td style="text-align:right;"> Lotus Europa </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 27.3 </td>
   <td style="text-align:left;"> 4 </td>
   <td style="text-align:right;"> 1.935 </td>
   <td style="text-align:right;"> Fiat X1-9 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="additional-arguments" class="level3">
<h3 class="anchored" data-anchor-id="additional-arguments">additional arguments</h3>
<ul>
<li><code>trim = FALSE</code></li>
<li><code>nsmall = 0L</code></li>
<li><code>justify = c("left", "right", "centre", "none")</code></li>
<li><code>width = NULL</code></li>
<li><code>na.encode = TRUE</code></li>
<li><code>scientific = NA</code></li>
<li><code>big.mark   = ""</code><br>
</li>
<li><code>big.interval = 3L</code></li>
<li><code>small.mark = ""</code></li>
<li><code>small.interval = 5L</code></li>
<li><code>decimal.mark = getOption("OutDec")</code></li>
<li><code>zero.print = NULL</code></li>
<li><code>drop0trailing = FALSE, ...)</code></li>
</ul>
</section>
</section>
<section id="librarykableextra" class="level2">
<h2 class="anchored" data-anchor-id="librarykableextra">library(kableExtra)</h2>
<p><code>library(kableExtra)</code> extends the power and customization of <code>library(kable)</code>.</p>
<p><a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html">This article</a> outlines many of the following capabilities.</p>
<section id="full_width" class="level3">
<h3 class="anchored" data-anchor-id="full_width">full_width</h3>
<p>“kables” stretch to the full width of a document by default. <code>full_width = FALSE</code> turns off this default.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="at">x =</span> <span class="fu">head</span>(mtcars), <span class="at">format =</span> <span class="st">"html"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:right;"> mpg </th>
   <th style="text-align:right;"> cyl </th>
   <th style="text-align:right;"> disp </th>
   <th style="text-align:right;"> hp </th>
   <th style="text-align:right;"> drat </th>
   <th style="text-align:right;"> wt </th>
   <th style="text-align:right;"> qsec </th>
   <th style="text-align:right;"> vs </th>
   <th style="text-align:right;"> am </th>
   <th style="text-align:right;"> gear </th>
   <th style="text-align:right;"> carb </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Mazda RX4 </td>
   <td style="text-align:right;"> 21.0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 160 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.90 </td>
   <td style="text-align:right;"> 2.620 </td>
   <td style="text-align:right;"> 16.46 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Mazda RX4 Wag </td>
   <td style="text-align:right;"> 21.0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 160 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.90 </td>
   <td style="text-align:right;"> 2.875 </td>
   <td style="text-align:right;"> 17.02 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Datsun 710 </td>
   <td style="text-align:right;"> 22.8 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 108 </td>
   <td style="text-align:right;"> 93 </td>
   <td style="text-align:right;"> 3.85 </td>
   <td style="text-align:right;"> 2.320 </td>
   <td style="text-align:right;"> 18.61 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hornet 4 Drive </td>
   <td style="text-align:right;"> 21.4 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 258 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.08 </td>
   <td style="text-align:right;"> 3.215 </td>
   <td style="text-align:right;"> 19.44 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hornet Sportabout </td>
   <td style="text-align:right;"> 18.7 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 360 </td>
   <td style="text-align:right;"> 175 </td>
   <td style="text-align:right;"> 3.15 </td>
   <td style="text-align:right;"> 3.440 </td>
   <td style="text-align:right;"> 17.02 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Valiant </td>
   <td style="text-align:right;"> 18.1 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 225 </td>
   <td style="text-align:right;"> 105 </td>
   <td style="text-align:right;"> 2.76 </td>
   <td style="text-align:right;"> 3.460 </td>
   <td style="text-align:right;"> 20.22 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="position" class="level3">
<h3 class="anchored" data-anchor-id="position">position</h3>
<p>Using <code>full_width = F</code> opens up the possibility of changing the alignment of the table on the page.</p>
<p>For example, <code>position = "left"</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="at">x =</span> <span class="fu">head</span>(mtcars), <span class="at">format =</span> <span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"mtcars with position = 'left'"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">position =</span> <span class="st">"left"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table" style="width: auto !important; ">
<caption>mtcars with position = 'left'</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:right;"> mpg </th>
   <th style="text-align:right;"> cyl </th>
   <th style="text-align:right;"> disp </th>
   <th style="text-align:right;"> hp </th>
   <th style="text-align:right;"> drat </th>
   <th style="text-align:right;"> wt </th>
   <th style="text-align:right;"> qsec </th>
   <th style="text-align:right;"> vs </th>
   <th style="text-align:right;"> am </th>
   <th style="text-align:right;"> gear </th>
   <th style="text-align:right;"> carb </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Mazda RX4 </td>
   <td style="text-align:right;"> 21.0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 160 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.90 </td>
   <td style="text-align:right;"> 2.620 </td>
   <td style="text-align:right;"> 16.46 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Mazda RX4 Wag </td>
   <td style="text-align:right;"> 21.0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 160 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.90 </td>
   <td style="text-align:right;"> 2.875 </td>
   <td style="text-align:right;"> 17.02 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Datsun 710 </td>
   <td style="text-align:right;"> 22.8 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 108 </td>
   <td style="text-align:right;"> 93 </td>
   <td style="text-align:right;"> 3.85 </td>
   <td style="text-align:right;"> 2.320 </td>
   <td style="text-align:right;"> 18.61 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hornet 4 Drive </td>
   <td style="text-align:right;"> 21.4 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 258 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.08 </td>
   <td style="text-align:right;"> 3.215 </td>
   <td style="text-align:right;"> 19.44 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hornet Sportabout </td>
   <td style="text-align:right;"> 18.7 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 360 </td>
   <td style="text-align:right;"> 175 </td>
   <td style="text-align:right;"> 3.15 </td>
   <td style="text-align:right;"> 3.440 </td>
   <td style="text-align:right;"> 17.02 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Valiant </td>
   <td style="text-align:right;"> 18.1 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 225 </td>
   <td style="text-align:right;"> 105 </td>
   <td style="text-align:right;"> 2.76 </td>
   <td style="text-align:right;"> 3.460 </td>
   <td style="text-align:right;"> 20.22 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<section id="mtcars-with-float_right" class="level4">
<h4 class="anchored" data-anchor-id="mtcars-with-float_right">mtcars with float_right</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="at">x =</span> <span class="fu">head</span>(mtcars), <span class="at">format =</span> <span class="st">"html"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">position =</span> <span class="st">"float_right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table" style="width: auto !important; float: right; margin-left: 10px;">
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:right;"> mpg </th>
   <th style="text-align:right;"> cyl </th>
   <th style="text-align:right;"> disp </th>
   <th style="text-align:right;"> hp </th>
   <th style="text-align:right;"> drat </th>
   <th style="text-align:right;"> wt </th>
   <th style="text-align:right;"> qsec </th>
   <th style="text-align:right;"> vs </th>
   <th style="text-align:right;"> am </th>
   <th style="text-align:right;"> gear </th>
   <th style="text-align:right;"> carb </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Mazda RX4 </td>
   <td style="text-align:right;"> 21.0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 160 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.90 </td>
   <td style="text-align:right;"> 2.620 </td>
   <td style="text-align:right;"> 16.46 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Mazda RX4 Wag </td>
   <td style="text-align:right;"> 21.0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 160 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.90 </td>
   <td style="text-align:right;"> 2.875 </td>
   <td style="text-align:right;"> 17.02 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Datsun 710 </td>
   <td style="text-align:right;"> 22.8 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 108 </td>
   <td style="text-align:right;"> 93 </td>
   <td style="text-align:right;"> 3.85 </td>
   <td style="text-align:right;"> 2.320 </td>
   <td style="text-align:right;"> 18.61 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hornet 4 Drive </td>
   <td style="text-align:right;"> 21.4 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 258 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.08 </td>
   <td style="text-align:right;"> 3.215 </td>
   <td style="text-align:right;"> 19.44 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hornet Sportabout </td>
   <td style="text-align:right;"> 18.7 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 360 </td>
   <td style="text-align:right;"> 175 </td>
   <td style="text-align:right;"> 3.15 </td>
   <td style="text-align:right;"> 3.440 </td>
   <td style="text-align:right;"> 17.02 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Valiant </td>
   <td style="text-align:right;"> 18.1 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 225 </td>
   <td style="text-align:right;"> 105 </td>
   <td style="text-align:right;"> 2.76 </td>
   <td style="text-align:right;"> 3.460 </td>
   <td style="text-align:right;"> 20.22 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Body text can be set to the side of a table using <code>float_right</code> or <code>float_left</code>. The text that appears next to the table goes after the function call in R Markdown documents.</p>
</section>
</section>
<section id="column_spec" class="level3">
<h3 class="anchored" data-anchor-id="column_spec">column_spec</h3>
<p>Individual columns can be formatted with <code>column_spec()</code>. The arguments are <code>width</code>, <code>bold</code>, <code>italic</code>, <code>monospace</code>, <code>color</code> (text color), <code>background</code> (column color), <code>border_left</code>, and <code>border_right</code>. If the paragraph next to a table with <code>position = "float_right"</code> is too short, the head and text of the subsequent section will appear next to the table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="at">x =</span> <span class="fu">head</span>(mtcars), <span class="at">format =</span> <span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Highlight an important column"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column_spec</span>(<span class="dv">3</span>, <span class="at">background =</span> <span class="st">"#1696d2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Highlight an important column</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:right;"> mpg </th>
   <th style="text-align:right;"> cyl </th>
   <th style="text-align:right;"> disp </th>
   <th style="text-align:right;"> hp </th>
   <th style="text-align:right;"> drat </th>
   <th style="text-align:right;"> wt </th>
   <th style="text-align:right;"> qsec </th>
   <th style="text-align:right;"> vs </th>
   <th style="text-align:right;"> am </th>
   <th style="text-align:right;"> gear </th>
   <th style="text-align:right;"> carb </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Mazda RX4 </td>
   <td style="text-align:right;"> 21.0 </td>
   <td style="text-align:right;background-color: #1696d2 !important;"> 6 </td>
   <td style="text-align:right;"> 160 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.90 </td>
   <td style="text-align:right;"> 2.620 </td>
   <td style="text-align:right;"> 16.46 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Mazda RX4 Wag </td>
   <td style="text-align:right;"> 21.0 </td>
   <td style="text-align:right;background-color: #1696d2 !important;"> 6 </td>
   <td style="text-align:right;"> 160 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.90 </td>
   <td style="text-align:right;"> 2.875 </td>
   <td style="text-align:right;"> 17.02 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Datsun 710 </td>
   <td style="text-align:right;"> 22.8 </td>
   <td style="text-align:right;background-color: #1696d2 !important;"> 4 </td>
   <td style="text-align:right;"> 108 </td>
   <td style="text-align:right;"> 93 </td>
   <td style="text-align:right;"> 3.85 </td>
   <td style="text-align:right;"> 2.320 </td>
   <td style="text-align:right;"> 18.61 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hornet 4 Drive </td>
   <td style="text-align:right;"> 21.4 </td>
   <td style="text-align:right;background-color: #1696d2 !important;"> 6 </td>
   <td style="text-align:right;"> 258 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.08 </td>
   <td style="text-align:right;"> 3.215 </td>
   <td style="text-align:right;"> 19.44 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hornet Sportabout </td>
   <td style="text-align:right;"> 18.7 </td>
   <td style="text-align:right;background-color: #1696d2 !important;"> 8 </td>
   <td style="text-align:right;"> 360 </td>
   <td style="text-align:right;"> 175 </td>
   <td style="text-align:right;"> 3.15 </td>
   <td style="text-align:right;"> 3.440 </td>
   <td style="text-align:right;"> 17.02 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Valiant </td>
   <td style="text-align:right;"> 18.1 </td>
   <td style="text-align:right;background-color: #1696d2 !important;"> 6 </td>
   <td style="text-align:right;"> 225 </td>
   <td style="text-align:right;"> 105 </td>
   <td style="text-align:right;"> 2.76 </td>
   <td style="text-align:right;"> 3.460 </td>
   <td style="text-align:right;"> 20.22 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="row_spec" class="level3">
<h3 class="anchored" data-anchor-id="row_spec">row_spec</h3>
<p>Individual rows can be formatted with <code>row_spec()</code>. The arguments are <code>bold</code>, <code>italic</code>, <code>monospace</code>, <code>color</code> (text color), and <code>background</code> (row color).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="at">x =</span> <span class="fu">head</span>(mtcars), <span class="at">format =</span> <span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Highlight an important row"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">position =</span> <span class="st">"left"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">row_spec</span>(<span class="dv">3</span>, <span class="at">color =</span> <span class="st">"#ffffff"</span>, <span class="at">background =</span> <span class="st">"#1696d2"</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table" style="width: auto !important; ">
<caption>Highlight an important row</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:right;"> mpg </th>
   <th style="text-align:right;"> cyl </th>
   <th style="text-align:right;"> disp </th>
   <th style="text-align:right;"> hp </th>
   <th style="text-align:right;"> drat </th>
   <th style="text-align:right;"> wt </th>
   <th style="text-align:right;"> qsec </th>
   <th style="text-align:right;"> vs </th>
   <th style="text-align:right;"> am </th>
   <th style="text-align:right;"> gear </th>
   <th style="text-align:right;"> carb </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Mazda RX4 </td>
   <td style="text-align:right;"> 21.0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 160 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.90 </td>
   <td style="text-align:right;"> 2.620 </td>
   <td style="text-align:right;"> 16.46 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Mazda RX4 Wag </td>
   <td style="text-align:right;"> 21.0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 160 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.90 </td>
   <td style="text-align:right;"> 2.875 </td>
   <td style="text-align:right;"> 17.02 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;color: #ffffff !important;background-color: #1696d2 !important;"> Datsun 710 </td>
   <td style="text-align:right;font-weight: bold;color: #ffffff !important;background-color: #1696d2 !important;"> 22.8 </td>
   <td style="text-align:right;font-weight: bold;color: #ffffff !important;background-color: #1696d2 !important;"> 4 </td>
   <td style="text-align:right;font-weight: bold;color: #ffffff !important;background-color: #1696d2 !important;"> 108 </td>
   <td style="text-align:right;font-weight: bold;color: #ffffff !important;background-color: #1696d2 !important;"> 93 </td>
   <td style="text-align:right;font-weight: bold;color: #ffffff !important;background-color: #1696d2 !important;"> 3.85 </td>
   <td style="text-align:right;font-weight: bold;color: #ffffff !important;background-color: #1696d2 !important;"> 2.320 </td>
   <td style="text-align:right;font-weight: bold;color: #ffffff !important;background-color: #1696d2 !important;"> 18.61 </td>
   <td style="text-align:right;font-weight: bold;color: #ffffff !important;background-color: #1696d2 !important;"> 1 </td>
   <td style="text-align:right;font-weight: bold;color: #ffffff !important;background-color: #1696d2 !important;"> 1 </td>
   <td style="text-align:right;font-weight: bold;color: #ffffff !important;background-color: #1696d2 !important;"> 4 </td>
   <td style="text-align:right;font-weight: bold;color: #ffffff !important;background-color: #1696d2 !important;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hornet 4 Drive </td>
   <td style="text-align:right;"> 21.4 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 258 </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 3.08 </td>
   <td style="text-align:right;"> 3.215 </td>
   <td style="text-align:right;"> 19.44 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hornet Sportabout </td>
   <td style="text-align:right;"> 18.7 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 360 </td>
   <td style="text-align:right;"> 175 </td>
   <td style="text-align:right;"> 3.15 </td>
   <td style="text-align:right;"> 3.440 </td>
   <td style="text-align:right;"> 17.02 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Valiant </td>
   <td style="text-align:right;"> 18.1 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 225 </td>
   <td style="text-align:right;"> 105 </td>
   <td style="text-align:right;"> 2.76 </td>
   <td style="text-align:right;"> 3.460 </td>
   <td style="text-align:right;"> 20.22 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="add_header_above" class="level3">
<h3 class="anchored" data-anchor-id="add_header_above">add_header_above</h3>
<p><code>library(kableExtra)</code> can add a second tier of column labels with <code>add_header_above</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">&lt;</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(price, carat, cut, color, clarity) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Diamond features"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">"Shape and size"</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">"Stone color"</span> <span class="ot">=</span> <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Diamond features</caption>
 <thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1"></th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">Shape and size</div></th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">Stone color</div></th>
</tr>
  <tr>
   <th style="text-align:right;"> price </th>
   <th style="text-align:right;"> carat </th>
   <th style="text-align:left;"> cut </th>
   <th style="text-align:left;"> color </th>
   <th style="text-align:left;"> clarity </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 326 </td>
   <td style="text-align:right;"> 0.23 </td>
   <td style="text-align:left;"> Ideal </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:left;"> SI2 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 326 </td>
   <td style="text-align:right;"> 0.21 </td>
   <td style="text-align:left;"> Premium </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:left;"> SI1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 327 </td>
   <td style="text-align:right;"> 0.23 </td>
   <td style="text-align:left;"> Good </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:left;"> VS1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 334 </td>
   <td style="text-align:right;"> 0.29 </td>
   <td style="text-align:left;"> Premium </td>
   <td style="text-align:left;"> I </td>
   <td style="text-align:left;"> VS2 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 335 </td>
   <td style="text-align:right;"> 0.31 </td>
   <td style="text-align:left;"> Good </td>
   <td style="text-align:left;"> J </td>
   <td style="text-align:left;"> SI2 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 336 </td>
   <td style="text-align:right;"> 0.24 </td>
   <td style="text-align:left;"> Very Good </td>
   <td style="text-align:left;"> J </td>
   <td style="text-align:left;"> VVS2 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 336 </td>
   <td style="text-align:right;"> 0.24 </td>
   <td style="text-align:left;"> Very Good </td>
   <td style="text-align:left;"> I </td>
   <td style="text-align:left;"> VVS1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 337 </td>
   <td style="text-align:right;"> 0.26 </td>
   <td style="text-align:left;"> Very Good </td>
   <td style="text-align:left;"> H </td>
   <td style="text-align:left;"> SI1 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 337 </td>
   <td style="text-align:right;"> 0.22 </td>
   <td style="text-align:left;"> Fair </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:left;"> VS2 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="group_rows" class="level3">
<h3 class="anchored" data-anchor-id="group_rows">group_rows</h3>
<p>Similarly, <code>group_rows()</code> can be used to add an extra tier of row labels.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(cut <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Ideal"</span>, <span class="st">"Premium"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">&lt;=</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(cut, <span class="fu">desc</span>(price)) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(carat, color, price) <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Diamond prices"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_rows</span>(<span class="st">"Premium"</span>, <span class="dv">1</span>, <span class="dv">6</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_rows</span>(<span class="st">"Ideal"</span>, <span class="dv">7</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Diamond prices</caption>
 <thead>
  <tr>
   <th style="text-align:right;"> carat </th>
   <th style="text-align:left;"> color </th>
   <th style="text-align:right;"> price </th>
  </tr>
 </thead>
<tbody>
  <tr grouplength="6"><td colspan="3" style="border-bottom: 1px solid;"><strong>Premium</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.24 </td>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 355 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.20 </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 345 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.32 </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 345 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.22 </td>
   <td style="text-align:left;"> F </td>
   <td style="text-align:right;"> 342 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.29 </td>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 334 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.21 </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 326 </td>
  </tr>
  <tr grouplength="4"><td colspan="3" style="border-bottom: 1px solid;"><strong>Ideal</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.30 </td>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 348 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.31 </td>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 344 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.23 </td>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 340 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.23 </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 326 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="add_footnote" class="level3">
<h3 class="anchored" data-anchor-id="add_footnote">add_footnote()</h3>
<p>Adding footnotes to tables is simple with <code>add_footnote()</code>. <code>notation =</code> can be set to “number”, “alphabet”, or “symbol”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(cut <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Ideal"</span>, <span class="st">"Premium"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">&lt;=</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(cut, <span class="fu">desc</span>(price)) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(carat, color, price) <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Diamond prices"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_rows</span>(<span class="st">"Premium"</span>, <span class="dv">1</span>, <span class="dv">6</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_rows</span>(<span class="st">"Ideal"</span>, <span class="dv">7</span>, <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_footnote</span>(<span class="fu">c</span>(<span class="st">"All prices are in 2017 dollars"</span>, <span class="st">"Urban Institute analysis of diamond data"</span>), <span class="at">notation =</span> <span class="st">"alphabet"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Diamond prices</caption>
 <thead>
  <tr>
   <th style="text-align:right;"> carat </th>
   <th style="text-align:left;"> color </th>
   <th style="text-align:right;"> price </th>
  </tr>
 </thead>
<tbody>
  <tr grouplength="6"><td colspan="3" style="border-bottom: 1px solid;"><strong>Premium</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.24 </td>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 355 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.20 </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 345 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.32 </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 345 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.22 </td>
   <td style="text-align:left;"> F </td>
   <td style="text-align:right;"> 342 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.29 </td>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 334 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.21 </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 326 </td>
  </tr>
  <tr grouplength="4"><td colspan="3" style="border-bottom: 1px solid;"><strong>Ideal</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.30 </td>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 348 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.31 </td>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 344 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.23 </td>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 340 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.23 </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 326 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup>a</sup> All prices are in 2017 dollars</td>
</tr>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup>b</sup> Urban Institute analysis of diamond data</td>
</tr>
</tfoot>
</table>

</div>
</div>
<p>Footnotes can also reference titles and column headings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(cut <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Ideal"</span>, <span class="st">"Premium"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">&lt;=</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(cut, <span class="fu">desc</span>(price)) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(carat, color, price) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Diamond prices[note]"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_rows</span>(<span class="st">"Premium [note]"</span>, <span class="dv">1</span>, <span class="dv">6</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_rows</span>(<span class="st">"Ideal"</span>, <span class="dv">7</span>, <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_footnote</span>(<span class="fu">c</span>(<span class="st">"Could include blood diamonds"</span>, <span class="st">"All prices are in 2017 dollars"</span>, <span class="st">"Urban Institute analysis of diamond data"</span>), <span class="at">notation =</span> <span class="st">"alphabet"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Diamond prices<sup>a</sup></caption>
 <thead>
  <tr>
   <th style="text-align:right;"> carat </th>
   <th style="text-align:left;"> color </th>
   <th style="text-align:right;"> price </th>
  </tr>
 </thead>
<tbody>
  <tr grouplength="6"><td colspan="3" style="border-bottom: 1px solid;"><strong>Premium <sup>b</sup></strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.24 </td>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 355 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.20 </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 345 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.32 </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 345 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.22 </td>
   <td style="text-align:left;"> F </td>
   <td style="text-align:right;"> 342 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.29 </td>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 334 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.21 </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 326 </td>
  </tr>
  <tr grouplength="4"><td colspan="3" style="border-bottom: 1px solid;"><strong>Ideal</strong></td></tr>
<tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.30 </td>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 348 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.31 </td>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 344 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.23 </td>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 340 </td>
  </tr>
  <tr>
   <td style="text-align:right;padding-left: 2em;" indentlevel="1"> 0.23 </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 326 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup>a</sup> Could include blood diamonds</td>
</tr>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup>b</sup> All prices are in 2017 dollars</td>
</tr>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup>c</sup> Urban Institute analysis of diamond data</td>
</tr>
</tfoot>
</table>

</div>
</div>
</section>
</section>
<section id="libraryformattable" class="level2">
<h2 class="anchored" data-anchor-id="libraryformattable">library(formattable)</h2>
<p><code>library(formattable)</code> has two distinct applications. The first is formatting vectors that can be used in any table or output in R. The second is building highly-formatted tables that go beyond <code>library(kable)</code> + <code>library(kableExtra)</code>.</p>
<section id="pre-defined-formats" class="level3">
<h3 class="anchored" data-anchor-id="pre-defined-formats">Pre-defined Formats</h3>
<p>Percentages are usually stored as decimals in R for ease of computation. But it is often desirable to present those decimals as percentages in tables. The function <code>percent()</code> quickly converts a vector of decimals like <code>0.068</code> into percentages like <code>6.8%</code>. The argument <code>digits =</code> controls the number of decimal places to be shown.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(formattable)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>unemployment <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">State =</span> <span class="fu">c</span>(<span class="st">"Alabama"</span>, <span class="st">"Alaska"</span>, <span class="st">"Arizona"</span>, <span class="st">"Arkansas"</span>, <span class="st">"California"</span>),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">2000</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">percent</span>(<span class="fu">c</span>(.<span class="dv">068</span>, .<span class="dv">05</span>, .<span class="dv">05</span>, .<span class="dv">04</span>, .<span class="dv">09</span>), <span class="at">digits =</span> <span class="dv">1</span>),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">2013</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">percent</span>(<span class="fu">c</span>(.<span class="dv">064</span>, .<span class="dv">062</span>, .<span class="dv">05</span>, .<span class="dv">06</span>, .<span class="dv">065</span>), <span class="at">digits =</span> <span class="dv">1</span>),</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Change =</span> <span class="fu">percent</span>(<span class="fu">c</span>(<span class="sc">-</span>.<span class="dv">004</span>, .<span class="dv">012</span>, <span class="dv">0</span>, .<span class="dv">02</span>, <span class="sc">-</span>.<span class="dv">025</span>), <span class="at">digits =</span> <span class="dv">1</span>)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="fu">formattable</span>(unemployment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-condensed">
<thead>
<tr>
<th style="text-align:right;">
State
</th>
<th style="text-align:right;">
2000
</th>
<th style="text-align:right;">
2013
</th>
<th style="text-align:right;">
Change
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
Alabama
</td>
<td style="text-align:right;">
6.8%
</td>
<td style="text-align:right;">
6.4%
</td>
<td style="text-align:right;">
-0.4%
</td>
</tr>
<tr>
<td style="text-align:right;">
Alaska
</td>
<td style="text-align:right;">
5.0%
</td>
<td style="text-align:right;">
6.2%
</td>
<td style="text-align:right;">
1.2%
</td>
</tr>
<tr>
<td style="text-align:right;">
Arizona
</td>
<td style="text-align:right;">
5.0%
</td>
<td style="text-align:right;">
5.0%
</td>
<td style="text-align:right;">
0.0%
</td>
</tr>
<tr>
<td style="text-align:right;">
Arkansas
</td>
<td style="text-align:right;">
4.0%
</td>
<td style="text-align:right;">
6.0%
</td>
<td style="text-align:right;">
2.0%
</td>
</tr>
<tr>
<td style="text-align:right;">
California
</td>
<td style="text-align:right;">
9.0%
</td>
<td style="text-align:right;">
6.5%
</td>
<td style="text-align:right;">
-2.5%
</td>
</tr>
</tbody>

</table>
</div>
</div>
<p><code>library(formattable)</code> comes with useful pre-defined formats for <code>percent()</code>, <code>comma()</code>, <code>currency()</code>, <code>accounting()</code>, and <code>scientific()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>formats <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Percent =</span> <span class="fu">percent</span>(<span class="fu">c</span>(.<span class="dv">068</span>, .<span class="dv">05</span>, .<span class="dv">05</span>, .<span class="dv">04</span>, .<span class="dv">09</span>), <span class="at">digits =</span> <span class="dv">1</span>),</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">Comma =</span> <span class="fu">comma</span>(<span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">10000</span>, <span class="dv">100000</span>, <span class="dv">1000000</span>, <span class="dv">10000000</span>), <span class="at">digits =</span> <span class="dv">0</span>),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Currency =</span> <span class="fu">currency</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>)),</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Accounting =</span> <span class="fu">accounting</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>)),</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Scientific =</span> <span class="fu">scientific</span>(<span class="fu">c</span>(<span class="fl">0.0001</span>, <span class="dv">100000</span>, <span class="dv">100000000000</span>, <span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="fu">formattable</span>(formats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-condensed">
<thead>
<tr>
<th style="text-align:right;">
Percent
</th>
<th style="text-align:right;">
Comma
</th>
<th style="text-align:right;">
Currency
</th>
<th style="text-align:right;">
Accounting
</th>
<th style="text-align:right;">
Scientific
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
6.8%
</td>
<td style="text-align:right;">
1,000
</td>
<td style="text-align:right;">
$1.00
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.0000e-04
</td>
</tr>
<tr>
<td style="text-align:right;">
5.0%
</td>
<td style="text-align:right;">
10,000
</td>
<td style="text-align:right;">
$1.00
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.0000e+05
</td>
</tr>
<tr>
<td style="text-align:right;">
5.0%
</td>
<td style="text-align:right;">
100,000
</td>
<td style="text-align:right;">
$1.00
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.0000e+11
</td>
</tr>
<tr>
<td style="text-align:right;">
4.0%
</td>
<td style="text-align:right;">
1,000,000
</td>
<td style="text-align:right;">
$1.00
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.0000e+00
</td>
</tr>
<tr>
<td style="text-align:right;">
9.0%
</td>
<td style="text-align:right;">
10,000,000
</td>
<td style="text-align:right;">
$1.00
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.0000e+00
</td>
</tr>
</tbody>

</table>
</div>
</div>
<p><code>library(formattable)</code> can be combined with any of the tools outlined in this document. All of the format functions can be used on individual vectors and passed to other table functions.</p>
<p>In this example, <code>currency()</code> is used with <code>kable()</code> to add a dollar sign and two decimals to price.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">price =</span> <span class="fu">currency</span>(price)) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>() <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:right;"> carat </th>
   <th style="text-align:left;"> cut </th>
   <th style="text-align:left;"> color </th>
   <th style="text-align:left;"> clarity </th>
   <th style="text-align:right;"> depth </th>
   <th style="text-align:right;"> table </th>
   <th style="text-align:right;"> price </th>
   <th style="text-align:right;"> x </th>
   <th style="text-align:right;"> y </th>
   <th style="text-align:right;"> z </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 0.23 </td>
   <td style="text-align:left;"> Ideal </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:left;"> SI2 </td>
   <td style="text-align:right;"> 61.5 </td>
   <td style="text-align:right;"> 55 </td>
   <td style="text-align:right;"> $326.00 </td>
   <td style="text-align:right;"> 3.95 </td>
   <td style="text-align:right;"> 3.98 </td>
   <td style="text-align:right;"> 2.43 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0.21 </td>
   <td style="text-align:left;"> Premium </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:left;"> SI1 </td>
   <td style="text-align:right;"> 59.8 </td>
   <td style="text-align:right;"> 61 </td>
   <td style="text-align:right;"> $326.00 </td>
   <td style="text-align:right;"> 3.89 </td>
   <td style="text-align:right;"> 3.84 </td>
   <td style="text-align:right;"> 2.31 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0.23 </td>
   <td style="text-align:left;"> Good </td>
   <td style="text-align:left;"> E </td>
   <td style="text-align:left;"> VS1 </td>
   <td style="text-align:right;"> 56.9 </td>
   <td style="text-align:right;"> 65 </td>
   <td style="text-align:right;"> $327.00 </td>
   <td style="text-align:right;"> 4.05 </td>
   <td style="text-align:right;"> 4.07 </td>
   <td style="text-align:right;"> 2.31 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0.29 </td>
   <td style="text-align:left;"> Premium </td>
   <td style="text-align:left;"> I </td>
   <td style="text-align:left;"> VS2 </td>
   <td style="text-align:right;"> 62.4 </td>
   <td style="text-align:right;"> 58 </td>
   <td style="text-align:right;"> $334.00 </td>
   <td style="text-align:right;"> 4.20 </td>
   <td style="text-align:right;"> 4.23 </td>
   <td style="text-align:right;"> 2.63 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0.31 </td>
   <td style="text-align:left;"> Good </td>
   <td style="text-align:left;"> J </td>
   <td style="text-align:left;"> SI2 </td>
   <td style="text-align:right;"> 63.3 </td>
   <td style="text-align:right;"> 58 </td>
   <td style="text-align:right;"> $335.00 </td>
   <td style="text-align:right;"> 4.34 </td>
   <td style="text-align:right;"> 4.35 </td>
   <td style="text-align:right;"> 2.75 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 0.24 </td>
   <td style="text-align:left;"> Very Good </td>
   <td style="text-align:left;"> J </td>
   <td style="text-align:left;"> VVS2 </td>
   <td style="text-align:right;"> 62.8 </td>
   <td style="text-align:right;"> 57 </td>
   <td style="text-align:right;"> $336.00 </td>
   <td style="text-align:right;"> 3.94 </td>
   <td style="text-align:right;"> 3.96 </td>
   <td style="text-align:right;"> 2.48 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="formattable-tables" class="level3">
<h3 class="anchored" data-anchor-id="formattable-tables">formattable tables</h3>
<p><code>library(formattable)</code> can add formatting to tables that blurs the line between table and plot.</p>
<p><em>Note:</em> <code>library(formattable)</code> creates objects of class <code>formattable</code> so it isn’t necessary possible to combine all of the features of <code>library(formattable)</code> with the packages described elsewhere in this document.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(formattable)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>unemployment <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">State =</span> <span class="fu">c</span>(<span class="st">"Alabama"</span>, <span class="st">"Alaska"</span>, <span class="st">"Arizona"</span>, <span class="st">"Arkansas"</span>, <span class="st">"California"</span>),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">unemployment2000 =</span> <span class="fu">c</span>(<span class="fl">6.8</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">9</span>),</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">unemployment2013 =</span> <span class="fu">c</span>(<span class="fl">6.4</span>, <span class="fl">6.2</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="fl">6.5</span>),</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Change =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.4</span>, <span class="fl">1.2</span>, <span class="dv">0</span>, <span class="fl">2.0</span>, <span class="sc">-</span><span class="fl">2.5</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>sign_formatter <span class="ot">&lt;-</span> <span class="fu">formatter</span>(<span class="st">"span"</span>, </span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">style =</span> x <span class="sc">~</span> <span class="fu">style</span>(<span class="at">color =</span> <span class="fu">ifelse</span>(x <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"green"</span>, </span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ifelse</span>(x <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="st">"red"</span>, <span class="st">"black"</span>))))</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="fu">formattable</span>(unemployment, <span class="fu">list</span>(<span class="at">Change =</span> sign_formatter))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-condensed">
<thead>
<tr>
<th style="text-align:right;">
State
</th>
<th style="text-align:right;">
unemployment2000
</th>
<th style="text-align:right;">
unemployment2013
</th>
<th style="text-align:right;">
Change
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
Alabama
</td>
<td style="text-align:right;">
6.8
</td>
<td style="text-align:right;">
6.4
</td>
<td style="text-align:right;">
<span style="color: red">-0.4</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
Alaska
</td>
<td style="text-align:right;">
5.0
</td>
<td style="text-align:right;">
6.2
</td>
<td style="text-align:right;">
<span style="color: green">1.2</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
Arizona
</td>
<td style="text-align:right;">
5.0
</td>
<td style="text-align:right;">
5.0
</td>
<td style="text-align:right;">
<span style="color: black">0.0</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
Arkansas
</td>
<td style="text-align:right;">
4.0
</td>
<td style="text-align:right;">
6.0
</td>
<td style="text-align:right;">
<span style="color: green">2.0</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
California
</td>
<td style="text-align:right;">
9.0
</td>
<td style="text-align:right;">
6.5
</td>
<td style="text-align:right;">
<span style="color: red">-2.5</span>
</td>
</tr>
</tbody>

</table>
</div>
</div>
<p>The following example outlines advanced features:</p>
<ul>
<li><code>color_tile()</code> creates a colored tile under each observation of a variable</li>
<li><code>formatter()</code> establishes rules for a custom format</li>
<li><code>normalize_bar()</code> adds colored bars of varying size to each observation of a variable</li>
<li><code>icontext()</code> adds glyphs to each observation of variable</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>employees <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">Tenure =</span> <span class="fu">c</span>(<span class="dv">27</span>, <span class="dv">8</span>, <span class="dv">6</span>, <span class="dv">5</span>, <span class="dv">4</span>),</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">Performance =</span> <span class="fu">c</span>(<span class="st">"B"</span>, <span class="st">"F"</span>, <span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"C"</span>),</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">`</span><span class="at">IT Training</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>),</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">`</span><span class="at">Accrued PTO</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">98</span>, <span class="dv">2</span>, <span class="dv">8</span>, <span class="dv">38</span>, <span class="dv">6</span>))</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="fu">formattable</span>(employees, </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">Tenure =</span> <span class="fu">color_tile</span>(<span class="st">"white"</span>, <span class="st">"#1696d2"</span>),</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">Performance =</span> <span class="fu">formatter</span>(<span class="st">"span"</span>, </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>                    <span class="at">style =</span> x <span class="sc">~</span> <span class="fu">ifelse</span>(x <span class="sc">==</span> <span class="st">"F"</span>, <span class="fu">style</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">font.weight =</span> <span class="st">"bold"</span>), <span class="cn">NA</span>)),</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>             <span class="st">`</span><span class="at">IT Training</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">formatter</span>(<span class="st">"span"</span>, <span class="at">style =</span> x <span class="sc">~</span> <span class="fu">style</span>(<span class="at">color =</span> <span class="fu">ifelse</span>(x, <span class="st">"green"</span>, <span class="st">"red"</span>)),</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>                x <span class="sc">~</span> <span class="fu">icontext</span>(<span class="fu">ifelse</span>(x, <span class="st">"ok"</span>, <span class="st">"remove"</span>), <span class="fu">ifelse</span>(x, <span class="st">"Yes"</span>, <span class="st">"No"</span>))),</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>             <span class="st">`</span><span class="at">Accrued PTO</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">normalize_bar</span>(<span class="st">"#fdbf11"</span>, <span class="fl">0.2</span>)</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    ), <span class="at">caption =</span> <span class="st">"Employees"</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-condensed">
<caption>
Employees
</caption>
<thead>
<tr>
<th style="text-align:right;">
Tenure
</th>
<th style="text-align:right;">
Performance
</th>
<th style="text-align:right;">
IT Training
</th>
<th style="text-align:right;">
Accrued PTO
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #1696d2">27</span>
</td>
<td style="text-align:right;">
<span>B</span>
</td>
<td style="text-align:right;">
<span style="color: green"> <i class="glyphicon glyphicon-ok"></i> Yes </span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: #fdbf11; width: 100.00%">98</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #d6ecf7">8</span>
</td>
<td style="text-align:right;">
<span style="color: red; font-weight: bold">F</span>
</td>
<td style="text-align:right;">
<span style="color: red"> <i class="glyphicon glyphicon-remove"></i> No </span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: #fdbf11; width: 20.00%">2</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #eaf5fb">6</span>
</td>
<td style="text-align:right;">
<span>A</span>
</td>
<td style="text-align:right;">
<span style="color: green"> <i class="glyphicon glyphicon-ok"></i> Yes </span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: #fdbf11; width: 25.00%">8</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #f4fafd">5</span>
</td>
<td style="text-align:right;">
<span>A</span>
</td>
<td style="text-align:right;">
<span style="color: green"> <i class="glyphicon glyphicon-ok"></i> Yes </span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: #fdbf11; width: 50.00%">38</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff">4</span>
</td>
<td style="text-align:right;">
<span>C</span>
</td>
<td style="text-align:right;">
<span style="color: green"> <i class="glyphicon glyphicon-ok"></i> Yes </span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: #fdbf11; width: 23.33%">6</span>
</td>
</tr>
</tbody>

</table>
</div>
</div>
</section>
</section>
<section id="librarystargazer" class="level2">
<h2 class="anchored" data-anchor-id="librarystargazer">library(stargazer)</h2>
<p><code>library(stargazer)</code> is the best package for exporting “untidy”, but well-formatted regression tables in .html, LaTeX, and ASCII. These tables can be included in R Markdown documents by adding the argument <code>results = "asis"</code> to the header of a “code chunk”.</p>
<p>They can also be exported as .html code, LaTeX code, and formatted ASCII.</p>
<p><code>library(stargazer)</code> has an abundance of formatting options. <a href="https://cran.r-project.org/web/packages/stargazer/vignettes/stargazer.pdf">This vignette</a> and <a href="https://www.jakeruss.com/cheatsheets/stargazer/">this cheatsheet</a> outline most of what can be done with the package. This example shows how a little code can go a long way. Simply build as many models as desired, adjust some of the labels, and add a title.</p>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>linear1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(price <span class="sc">~</span> carat <span class="sc">+</span> x <span class="sc">+</span> y <span class="sc">+</span> z <span class="sc">+</span> depth, <span class="at">data =</span> diamonds)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>linear2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(price <span class="sc">~</span> carat <span class="sc">+</span> x <span class="sc">+</span> y <span class="sc">+</span> z, <span class="at">data =</span> diamonds)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>diamonds_indicator <span class="ot">&lt;-</span> diamonds <span class="sc">%&gt;%</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">price_indicator =</span> price <span class="sc">&gt;</span> <span class="dv">5324</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>probit1 <span class="ot">&lt;-</span> <span class="fu">glm</span>(price_indicator <span class="sc">~</span> carat <span class="sc">+</span> x <span class="sc">+</span> y <span class="sc">+</span> z, <span class="at">data =</span> diamonds_indicator, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"probit"</span>))</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(linear1, linear2, probit1, </span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">type =</span> <span class="st">"html"</span>,</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Regression Results"</span>,</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>          <span class="at">align =</span> <span class="cn">TRUE</span>, </span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>          <span class="at">dep.var.labels =</span> <span class="fu">c</span>(<span class="st">"Overall Prices"</span>, <span class="st">"High Prices"</span>),</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">covariate.labels =</span> <span class="fu">c</span>(<span class="st">"Carats"</span>, <span class="st">"X"</span>, <span class="st">"Y"</span>, <span class="st">"Z"</span>, <span class="st">"Cut"</span>),</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">no.space =</span> <span class="cn">TRUE</span>,</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<table style="text-align:center">
<caption>
<strong>Regression Results</strong>
</caption>
<tbody><tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
Overall Prices
</td>
<td>
High Prices
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<em>OLS</em>
</td>
<td>
<em>probit</em>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
<td>
(3)
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Carats
</td>
<td>
10,615.50<sup>***</sup>
</td>
<td>
10,233.91<sup>***</sup>
</td>
<td>
-4.23<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(63.81)
</td>
<td>
(62.94)
</td>
<td>
(0.21)
</td>
</tr>
<tr>
<td style="text-align:left">
X
</td>
<td>
-1,369.67<sup>***</sup>
</td>
<td>
-884.21<sup>***</sup>
</td>
<td>
1.40<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(43.48)
</td>
<td>
(40.47)
</td>
<td>
(0.15)
</td>
</tr>
<tr>
<td style="text-align:left">
Y
</td>
<td>
97.60<sup>***</sup>
</td>
<td>
166.04<sup>***</sup>
</td>
<td>
1.45<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(25.76)
</td>
<td>
(25.86)
</td>
<td>
(0.15)
</td>
</tr>
<tr>
<td style="text-align:left">
Z
</td>
<td>
64.20
</td>
<td>
-576.20<sup>***</sup>
</td>
<td>
1.96<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(44.75)
</td>
<td>
(39.28)
</td>
<td>
(0.13)
</td>
</tr>
<tr>
<td style="text-align:left">
Cut
</td>
<td>
-156.62<sup>***</sup>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(5.38)
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
12,196.69<sup>***</sup>
</td>
<td>
1,921.17<sup>***</sup>
</td>
<td>
-22.21<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(367.64)
</td>
<td>
(104.37)
</td>
<td>
(0.57)
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
53,940
</td>
<td>
53,940
</td>
<td>
53,940
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.86
</td>
<td>
0.85
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.86
</td>
<td>
0.85
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Log Likelihood
</td>
<td>
</td>
<td>
</td>
<td>
-10,315.28
</td>
</tr>
<tr>
<td style="text-align:left">
Akaike Inf. Crit.
</td>
<td>
</td>
<td>
</td>
<td>
20,640.56
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
1,512.17 (df = 53934)
</td>
<td>
1,524.01 (df = 53935)
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
64,298.14<sup>***</sup> (df = 5; 53934)
</td>
<td>
78,920.42<sup>***</sup> (df = 4; 53935)
</td>
<td>
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="3" style="text-align:right">
<sup><em></em></sup><em>p&lt;0.1; <sup><strong></strong></sup><strong>p&lt;0.05; <sup></sup></strong></em>p&lt;0.01
</td>
</tr>

</tbody></table>
<section id="be-sure-to-cite-librarystargazer" class="level5">
<h5 class="anchored" data-anchor-id="be-sure-to-cite-librarystargazer">Be sure to cite <code>library(stargazer)</code>:</h5>
<blockquote class="blockquote">
<p>Hlavac, Marek (2015). stargazer: Well-Formatted Regression and Summary Statistics Tables. R package version 5.2. http://CRAN.R-project.org/package=stargazer</p>
</blockquote>
</section>
</section>
<section id="librarydt" class="level2">
<h2 class="anchored" data-anchor-id="librarydt">library(DT)</h2>
<p><code>library(DT)</code> is an R interface for the DataTables library in JavaScript. This <a href="https://rstudio.github.io/DT/">vignette</a> for the package outlines many ways output can be customized.</p>
<p>This example displays an augmented data frame used for a regression. That is, it displays the independent and dependent variables with fitted values, standard-errors of the fitted values, residuals, etc.</p>
<p>The example shows how columns can be renamed using <code>colnames = c("Price" = "price")</code>. It’s also possible to pass an entire vector of new columns like <code>colnames = c("Price", "Carat", ...)</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> mpg <span class="sc">~</span> wt, <span class="at">data =</span> mtcars)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="fu">augment</span>(model1) <span class="sc">%&gt;%</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(mpg<span class="sc">:</span>.std.resid), round, <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(<span class="at">colnames =</span> <span class="fu">c</span>(<span class="st">"Miles Per Gallon"</span> <span class="ot">=</span> <span class="st">"mpg"</span>, <span class="st">"Weight"</span> <span class="ot">=</span> <span class="st">"wt"</span>), <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>), <span class="at">style =</span> <span class="st">"bootstrap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-eb775805af2d3495d0ed" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-eb775805af2d3495d0ed">{"x":{"style":"bootstrap","filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32"],["Mazda RX4","Mazda RX4 Wag","Datsun 710","Hornet 4 Drive","Hornet Sportabout","Valiant","Duster 360","Merc 240D","Merc 230","Merc 280","Merc 280C","Merc 450SE","Merc 450SL","Merc 450SLC","Cadillac Fleetwood","Lincoln Continental","Chrysler Imperial","Fiat 128","Honda Civic","Toyota Corolla","Toyota Corona","Dodge Challenger","AMC Javelin","Camaro Z28","Pontiac Firebird","Fiat X1-9","Porsche 914-2","Lotus Europa","Ford Pantera L","Ferrari Dino","Maserati Bora","Volvo 142E"],[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],[2.62,2.88,2.32,3.21,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.42,5.34,2.2,1.61,1.83,2.46,3.52,3.44,3.84,3.85,1.94,2.14,1.51,3.17,2.77,3.57,2.78],[23.28,21.92,24.89,20.1,18.9,18.79,18.21,20.24,20.45,18.9,18.9,15.53,17.35,17.08,9.23,8.3,8.72,25.53,28.65,27.48,24.11,18.47,18.93,16.76,16.74,26.94,25.85,29.2,20.34,22.48,18.21,22.43],[-2.28,-0.92,-2.09,1.3,-0.2,-0.69,-3.91,4.16,2.35,0.3,-1.1,0.87,-0.05,-1.88,1.17,2.1,5.98,6.87,1.75,6.42,-2.61,-2.97,-3.73,-3.46,2.46,0.36,0.15,1.2,-4.54,-2.78,-3.21,-1.03],[0.04,0.04,0.06,0.03,0.03,0.03,0.04,0.03,0.03,0.03,0.03,0.06,0.04,0.04,0.17,0.2,0.18,0.07,0.12,0.1,0.05,0.03,0.03,0.04,0.04,0.09,0.07,0.13,0.03,0.04,0.04,0.04],[3.07,3.09,3.07,3.09,3.1,3.1,3.01,3,3.07,3.1,3.09,3.09,3.1,3.08,3.09,3.07,2.84,2.8,3.08,2.83,3.06,3.05,3.02,3.03,3.06,3.1,3.1,3.09,2.98,3.05,3.04,3.09],[0.01,0,0.02,0,0,0,0.03,0.03,0.01,0,0,0,0,0.01,0.02,0.07,0.53,0.19,0.02,0.26,0.02,0.02,0.03,0.03,0.02,0,0,0.01,0.04,0.02,0.02,0],[-0.77,-0.31,-0.71,0.43,-0.07,-0.23,-1.31,1.39,0.78,0.1,-0.37,0.29,-0.02,-0.63,0.42,0.77,2.17,2.33,0.61,2.22,-0.88,-0.99,-1.24,-1.16,0.83,0.12,0.05,0.42,-1.52,-0.93,-1.07,-0.34]],"container":"<table class=\"table table-striped table-hover row-border order-column display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>.rownames<\/th>\n      <th>Miles Per Gallon<\/th>\n      <th>Weight<\/th>\n      <th>.fitted<\/th>\n      <th>.resid<\/th>\n      <th>.hat<\/th>\n      <th>.sigma<\/th>\n      <th>.cooksd<\/th>\n      <th>.std.resid<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="export-to-excel" class="level2">
<h2 class="anchored" data-anchor-id="export-to-excel">Export to Excel</h2>
<p>Exporting to Microsoft Excel abandons many of the advantages, like reproducibility, automation and interactivity, of the other tools outlined in this document, but Excel is often a part of Urban Institute researchers’ workflows.</p>
<section id="write_csv" class="level3">
<h3 class="anchored" data-anchor-id="write_csv">write_csv()</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/csv.png" class="img-fluid" width="300"></p>
</div>
</div>
<p>The simplest option is to use <code>write_csv()</code> from <code>library(readr)</code> (loaded in <code>library(tidyverse)</code>) to create a .csv that can be opened in Microsoft Excel. Before writing to .csv, be sure to use <code>library(broom)</code> to put untidy information into data frames, <code>library(dplyr)</code> to select desired rows and columns, and <code>library(formattable)</code> to put individual columns into desired formats.</p>
<section id="example-code" class="level4">
<h4 class="anchored" data-anchor-id="example-code">Example code</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># select and rename columns</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="at">Carat =</span> carat, <span class="at">Price =</span> price) <span class="sc">%&gt;%</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># filter to the first ten rows</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">&lt;=</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># save as .csv</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">write_csv</span>(<span class="st">"diamonds.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>write_excel_csv()</code> is a close alternative to <code>write_csv()</code> that includes a UTF-8 Byte order mark that indicates to Excel the csv is UTF-8 encoded. All other syntax should be identical.</p>
</section>
</section>
<section id="librarywritexl" class="level3">
<h3 class="anchored" data-anchor-id="librarywritexl">library(writexl)</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/excel.png" class="img-fluid" width="300"></p>
</div>
</div>
<p><code>library(writexl)</code> is a new package that mimics the light-weight design of <code>library(readxl)</code>. It doesn’t require JAVA or Microsoft Excel to create and write to a .xlsx document. The package is slim now but more development is expected in the near future.</p>
<section id="example-code-1" class="level4">
<h4 class="anchored" data-anchor-id="example-code-1">Example code</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(writexl)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">%&gt;%</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># select and rename columns</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="at">Carat =</span> carat, <span class="at">Price =</span> price) <span class="sc">%&gt;%</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># filter to the first ten rows</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">&lt;=</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># save as .csv</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">write_xlsx</span>(<span class="st">"diamonds.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="libraryopenxlsx" class="level3">
<h3 class="anchored" data-anchor-id="libraryopenxlsx">library(openxlsx)</h3>
<p><code>library(openxlsx)</code> (<a href="https://cran.r-project.org/web/packages/openxlsx/openxlsx.pdf">CRAN</a>, <a href="https://github.com/awalker89/openxlsx">GitHub</a>) allows for the creation, writing, and styling of Microsoft Excel documents. It doesn’t require JAVA, which is a huge improvement over its predecessors <code>library(xlsx)</code> and <code>library(XLConnect)</code>.</p>
<p>For Windows computers, <code>library(openxlsx)</code> will require a little extra setup which is outlined in this <a href="https://github.com/awalker89/openxlsx">GitHub README</a>). Linux and Mac computers don’t require any additional setup.</p>
<p>Submit <code>vignette("Introduction", package = "openxlsx")</code> in R for a complete introduction to <code>library(openxlsx)</code>.</p>
<section id="example-code-2" class="level4">
<h4 class="anchored" data-anchor-id="example-code-2">Example code</h4>
<p>The biggest advantage of <code>library(openxlsx)</code> is the ability to specify workbook, sheet number of name, starting row, and starting column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(openxlsx)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">writeData</span>(wb, <span class="dv">1</span>, df, <span class="at">startRow =</span> <span class="dv">2</span>, <span class="at">startCol =</span> <span class="dv">2</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>diamonds_subset <span class="ot">&lt;-</span> diamonds <span class="sc">%&gt;%</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># select and rename columns</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="at">Carat =</span> carat, <span class="at">Price =</span> price) <span class="sc">%&gt;%</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># filter to the first ten rows</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">&lt;=</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># save as .csv</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">write_xlsx</span>(<span class="st">"diamonds.xlsx"</span>)</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="fu">writeData</span>(<span class="at">wb =</span> <span class="st">"diamonds.xlsx"</span>, </span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>                    <span class="at">sheet =</span> <span class="st">"price"</span>, </span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>                    <span class="at">x =</span> diamonds_subset, </span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>                    <span class="at">startRow =</span> <span class="dv">2</span>, </span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>                    <span class="at">startCol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>library(openxlsx)</code> also contains scores of options for controlling the destination format. <code>?writeData()</code> is good place to get started with formatting.</p>
</section>
</section>
</section>
<section id="tidy-data" class="level2">
<h2 class="anchored" data-anchor-id="tidy-data">Tidy Data</h2>
<p>Most tools for building tables in R require tidy data frames or tibbles. <a href="https://www.jstatsoft.org/article/view/v059i10">Tidy data</a> has three principles:</p>
<ol type="1">
<li>Each variable forms a column</li>
<li>Each observation forms a row</li>
<li>Each type of observational unit forms a table</li>
</ol>
<p>Not all R output is tidy. For example, regression output isn’t tidy by default:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(dist <span class="sc">~</span> speed, <span class="at">data =</span> cars)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = dist ~ speed, data = cars)

Residuals:
    Min      1Q  Median      3Q     Max 
-29.069  -9.525  -2.272   9.215  43.201 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -17.5791     6.7584  -2.601   0.0123 *  
speed         3.9324     0.4155   9.464 1.49e-12 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 15.38 on 48 degrees of freedom
Multiple R-squared:  0.6511,    Adjusted R-squared:  0.6438 
F-statistic: 89.57 on 1 and 48 DF,  p-value: 1.49e-12</code></pre>
</div>
</div>
<p>It’s easy to print the above output, as-is, to an R Markdown document or send it to a Microsoft Word file. But the above information isn’t attractive and it can’t be formatted. It also isn’t machine readable!</p>
<p>Fortunately, R has a suite of packages that make easy tidying data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(model1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  term        estimate std.error statistic  p.value
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)   -17.6      6.76      -2.60 1.23e- 2
2 speed           3.93     0.416      9.46 1.49e-12</code></pre>
</div>
</div>
<p>Now the regression is in a tidy format with each variable as a column, each observation as a row, and the observational unit is coefficients. It is easy to put data into tables once data are “tidy”.</p>
<section id="librarybroom" class="level3">
<h3 class="anchored" data-anchor-id="librarybroom">library(broom)</h3>
<p><code>library(broom)</code> is useful for converting statistical analysis objects from R into data frames.</p>
<p>Regressions in R are stored in clunky hierarchical data structures.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(dist<span class="sc">~</span>speed, <span class="at">data =</span> cars)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = dist ~ speed, data = cars)

Residuals:
    Min      1Q  Median      3Q     Max 
-29.069  -9.525  -2.272   9.215  43.201 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -17.5791     6.7584  -2.601   0.0123 *  
speed         3.9324     0.4155   9.464 1.49e-12 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 15.38 on 48 degrees of freedom
Multiple R-squared:  0.6511,    Adjusted R-squared:  0.6438 
F-statistic: 89.57 on 1 and 48 DF,  p-value: 1.49e-12</code></pre>
</div>
</div>
<section id="glance" class="level4">
<h4 class="anchored" data-anchor-id="glance">glance()</h4>
<p><code>glance()</code> returns a tidy data frame with one observation for each model. Each column gives a model summary: either a measure of model quality or complexity, or a combination of the two.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(model1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 12
  r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC
      &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     0.651         0.644  15.4      89.6 1.49e-12     1  -207.  419.  425.
# … with 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="tidy" class="level4">
<h4 class="anchored" data-anchor-id="tidy">tidy()</h4>
<p><code>tidy()</code> returns a tidy data frame with one observation for each coefficient in a model. Each column gives information about the estimate or its variability.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(model1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  term        estimate std.error statistic  p.value
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)   -17.6      6.76      -2.60 1.23e- 2
2 speed           3.93     0.416      9.46 1.49e-12</code></pre>
</div>
</div>
</section>
<section id="augment" class="level4">
<h4 class="anchored" data-anchor-id="augment">augment()</h4>
<p><code>augment()</code> returns a tidy data frame with one observation for each observation in the input data set.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">augment</span>(model1) <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">top_n</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 8
   dist speed .fitted .resid   .hat .sigma .cooksd .std.resid
  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;      &lt;dbl&gt;
1    60    14    37.5   22.5 0.0214   15.2  0.0240       1.48
2    80    14    37.5   42.5 0.0214   14.2  0.0856       2.80
3    76    18    53.2   22.8 0.0249   15.2  0.0288       1.50
4    84    18    53.2   30.8 0.0249   14.9  0.0526       2.03
5   120    24    76.8   43.2 0.0740   14.1  0.340        2.92</code></pre>
</div>
</div>
</section>
</section>
<section id="librarydplyr" class="level3">
<h3 class="anchored" data-anchor-id="librarydplyr">library(dplyr)</h3>
<p><code>library(dplyr)</code> is a powerful tool for data manipulation. The following “verbs” control the most common data manipulations:</p>
<ol type="1">
<li><code>select()</code>: select columns from a data frame</li>
<li><code>filter()</code>: filter rows in a data frame based on a condition or conditions</li>
<li><code>arrange()</code>: change the order of observations in a data frame</li>
<li><code>mutate()</code>: create or alter variables in a data frame</li>
<li><code>rename()</code>: change the name of a variable in a data frame</li>
<li><code>summarize()</code>: summarize values in a data frame into one row or multiple rows for grouped observations</li>
<li><code>group_by()</code>: group observations based on the levels of a variable or levels of variables</li>
</ol>
<p>These verbs are useful for changing data frames before converting them into publishable tables.</p>
</section>
</section>
<section id="putting-it-all-together" class="level2">
<h2 class="anchored" data-anchor-id="putting-it-all-together">Putting it all together</h2>
<p>The code examples above highlight the marginal changes of different functions or arguments. The examples do not put all of the tools together into publication-ready tables. This section will be a repository for tables made for Urban Institute publications in R.</p>
</section>
<section id="appendix" class="level2">
<h2 class="anchored" data-anchor-id="appendix">Appendix</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.1.2 (2021-11-01)
Platform: x86_64-apple-darwin17.0 (64-bit)
Running under: macOS Big Sur 10.16

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRblas.0.dylib
LAPACK: /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] broom_0.7.10      DT_0.20           stargazer_5.2.3   kableExtra_1.3.4 
 [5] formattable_0.2.1 knitr_1.36        forcats_0.5.1     stringr_1.4.0    
 [9] dplyr_1.0.8       purrr_0.3.4       readr_2.1.1       tidyr_1.2.0      
[13] tibble_3.1.6      ggplot2_3.3.5     tidyverse_1.3.1  

loaded via a namespace (and not attached):
 [1] svglite_2.1.0     lubridate_1.8.0   assertthat_0.2.1  digest_0.6.29    
 [5] utf8_1.2.2        R6_2.5.1          cellranger_1.1.0  backports_1.4.0  
 [9] reprex_2.0.1      evaluate_0.14     httr_1.4.2        highr_0.9        
[13] pillar_1.7.0      rlang_1.0.2       readxl_1.4.0.9000 rstudioapi_0.13  
[17] jquerylib_0.1.4   rmarkdown_2.11    webshot_0.5.3     htmlwidgets_1.5.4
[21] munsell_0.5.0     compiler_4.1.2    modelr_0.1.8      xfun_0.28        
[25] pkgconfig_2.0.3   systemfonts_1.0.3 htmltools_0.5.2   tidyselect_1.1.2 
[29] fansi_1.0.3       viridisLite_0.4.0 crayon_1.5.1      tzdb_0.2.0       
[33] dbplyr_2.1.1      withr_2.4.3       grid_4.1.2        jsonlite_1.7.2   
[37] gtable_0.3.0      lifecycle_1.0.1   DBI_1.1.1         magrittr_2.0.3   
[41] scales_1.1.1      cli_3.2.0         stringi_1.7.6     fs_1.5.1         
[45] xml2_1.3.3        ellipsis_0.3.2    generics_0.1.2    vctrs_0.4.1      
[49] tools_4.1.2       glue_1.6.2        crosstalk_1.2.0   hms_1.1.1        
[53] fastmap_1.1.0     yaml_2.2.1        colorspace_2.0-2  rvest_1.0.2      
[57] haven_2.4.3      </code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>